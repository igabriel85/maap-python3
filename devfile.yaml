schemaVersion: 2.2.2
metadata:
  name: python-maap-starter
components:
  - name: maapclean
    container:
      image: quay.io/igabriel185/maap-ubi8-dev:latest
      endpoints:
        - name: maapclean
          attributes:
            type: ide
            cookiesAuthEnabled: true
            urlRewriteSupported: true
            discoverable: false
          targetPort: 3100
          exposure: public
          secure: false
          protocol: http
commands:
    - id: build
        exec:
          component: maapclean
          commandLine: "jupyter lab --ip=0.0.0.0 --port=3100 --allow-root --ContentsManager.allow_hidden=True --ServerApp.token='' --no-browser --debug --ServerApp.disable_check_xsrf=True --ResourceUseDisplay.mem_warning_threshold=0.2"
          workingDir: ${PROJECT_SOURCE}